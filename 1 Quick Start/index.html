<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Quick Start - lzhw</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Quick Start";
    var mkdocs_page_input_path = "1 Quick Start.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> lzhw</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">lzhw (DataFrame Compression)</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Quick Start</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#lzhw-class">LZHW Class</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#a-long-list-to-3-numbers">A Long List to 3 Numbers</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#adjusting-sliding-window">Adjusting Sliding Window</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#writing-to-reading-from-files">Writing to &amp; Reading from Files</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../2%20Compressing%20DataFrames/">Compressing DataFrames (in Parallel)</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../3%20%28De%29Compressing%20Specific%20columns%20or%20rows%20from%20a%20dataframe/">(De)Compressing specific columns or rows from a dataframe (in Parallel)</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../4%20Compressing%20Large%20CSVs%20in%20Chunks/">Compressing Large CSVs in Chunks</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../5%20More%20Compression%20Functions/">More Compression Functions</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../6%20Using%20the%20lzhw%20command%20line%20tool/">Using the lzhw Command Line tool</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../7%20Comparing%20LZHW%20with%20Others/">Comparing LZHW with Others</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">lzhw</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Quick Start</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="quick-start">Quick Start</h1>
<p>Here is a quick walkthrough to get started with the library.</p>
<h4 id="installation">Installation</h4>
<pre><code class="bash">pip install lzhw
</code></pre>

<h4 id="lzhw-class">LZHW Class</h4>
<pre><code class="python">import lzhw

sample_data = [&quot;Sunny&quot;, &quot;Sunny&quot;, &quot;Overcast&quot;, &quot;Rain&quot;, &quot;Rain&quot;, &quot;Rain&quot;, &quot;Overcast&quot;, 
               &quot;Sunny&quot;, &quot;Sunny&quot;, &quot;Rain&quot;, &quot;Sunny&quot;, &quot;Overcast&quot;, &quot;Overcast&quot;, &quot;Rain&quot;, 
               &quot;Rain&quot;, &quot;Rain&quot;, &quot;Sunny&quot;, &quot;Sunny&quot;, &quot;Overcaste&quot;]

compressed = lzhw.LZHW(sample_data)
## let's see how the compressed object looks like:
print(compressed.compressed)
# (524288, 524288, 81592676324)

## its size
print(compressed.size())
# 72

## size of original
from sys import getsizeof
print(getsizeof(sample_data))
# 216

print(compressed.space_saving())
# space saving from original to compressed is 67%

## Let's decompress and check whether there is any information loss
decomp = compressed.decompress()
print(all(decomp == sample_data))
# True
</code></pre>

<p>As we saw, the LZHW class has saved 67% of the space used to store the original list without any loss. This percentage can get better with bigger data that may have repeated sequences.
The class has also some useful helper methods as <strong>space_saving</strong>, <strong>size</strong>, and <strong>decompress()</strong> to revert back to original.</p>
<p>Another example with numeric data.</p>
<pre><code class="python">from random import sample, choices

numbers = choices(sample(range(0, 5), 5), k = 20)
comp_num = lzhw.LZHW(numbers)

print(getsizeof(numbers) &gt; comp_num.size())
# True

print(numbers == list(map(int, comp_num.decompress()))) ## make it int again
# True

print(comp_num.space_saving())
# space saving from original to compressed is 73%
</code></pre>

<h4 id="a-long-list-to-3-numbers">A Long List to 3 Numbers</h4>
<p>Let's look at how the compressed object is stored and how it looks like when printed:
LZHW class has an attribute called <strong>compressed</strong> which is a tuple of integers representing the encoded triplets.</p>
<pre><code class="python">print(comp_num.compressed) # how the compressed is saved (as tuple of 3 integers)
# (1048576, 1048576, 43175655208435)
</code></pre>

<h4 id="adjusting-sliding-window">Adjusting Sliding Window</h4>
<p>LZHW class has <strong>sliding_window</strong> argument which we can adjust in case we want more compression. </p>
<p>The sliding window is where the algorithm looks back for previous sequences matching the current location in the input stream. </p>
<p>The default value of the argument is 265 meaning that the algorithm will look for matches in the previous 265 values from the current location.</p>
<p>We can make this number bigger to allow the algorithm to look for matches in a wider window that can potentially lead to more compression. The algorithm then will behave a little bit slower, you may even not notice it, because <strong>lzhw uses hash table, python dictionaries, to look up the matches, i.e. it doesn't loop over the window elements.</strong></p>
<pre><code class="python">from time import time
from sys import getsizeof
sample_data = [&quot;Sunny&quot;, &quot;Sunny&quot;, &quot;Overcast&quot;, &quot;Rain&quot;, &quot;Rain&quot;, &quot;Rain&quot;, &quot;Overcast&quot;, 
               &quot;Sunny&quot;, &quot;Sunny&quot;, &quot;Rain&quot;, &quot;Sunny&quot;, &quot;Overcast&quot;, &quot;Overcast&quot;, &quot;Rain&quot;, 
               &quot;Rain&quot;, &quot;Rain&quot;, &quot;Sunny&quot;, &quot;Sunny&quot;, &quot;Overcaste&quot;] * 10000
print(&quot;Original size:&quot;, getsizeof(sample_data))
# Original size: 1520064

start = time()
lzhw265 = lzhw.LZHW(sample_data, sliding_window = 265)
print(&quot;sliding window 265 compression time:&quot;, time() - start)
# sliding window 265 compression time: 0.5186636447906494

print(&quot;sliding window 265 size:&quot;, lzhw265.size())
# sliding window 265 size: 72

start = time()
lzhw1024 = lzhw.LZHW(sample_data, sliding_window = 1024)
print(&quot;sliding window 1024 compression time:&quot;, time() - start)
# sliding window 1024 compression time: 0.5305755138397217

print(&quot;sliding window 1024 size:&quot;, lzhw1024.size())
# sliding window 1024 size: 72
</code></pre>

<p>Time difference is almost not noticeable, and size is the same because the output is a tuple of 3 integers and the data itself is repeated 10k times so changing the sliding window will not help. Here it is for illustration only but you will notice the difference with real data when you save it into desk.</p>
<h4 id="writing-to-reading-from-files">Writing to &amp; Reading from Files</h4>
<p>We can also write the compressed data to files using <strong>save_to_file</strong> method, 
and read it back and decompress it using <strong>decompress_from_file</strong> function.</p>
<pre><code class="python">status = [&quot;Good&quot;, &quot;Bad&quot;, &quot;Bad&quot;, &quot;Bad&quot;, &quot;Good&quot;, &quot;Good&quot;, &quot;Average&quot;, &quot;Average&quot;, &quot;Good&quot;,
          &quot;Average&quot;, &quot;Average&quot;, &quot;Bad&quot;, &quot;Average&quot;, &quot;Good&quot;, &quot;Bad&quot;, &quot;Bad&quot;, &quot;Good&quot;]
comp_status = lzhw.LZHW(status)
comp_status.save_to_file(&quot;status.txt&quot;)
decomp_status = lzhw.decompress_from_file(&quot;status.txt&quot;)
print(all(status == decomp_status))
# True
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../2%20Compressing%20DataFrames/" class="btn btn-neutral float-right" title="Compressing DataFrames (in Parallel)">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="lzhw (DataFrame Compression)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../2%20Compressing%20DataFrames/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
